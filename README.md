# 智能番茄钟联动系统 (Smart Pomodoro Clock with PC Linkage)

## 项目简介

这是一个基于STC15单片机和Python Tkinter开发的软硬件结合项目。它旨在解决在数字化环境中难以保持专注的问题。该系统由一个实体OLED倒计时器（下位机）和一个PC图形化应用程序（上位机）组成，两者通过串口实时联动，实现了一个功能强大的沉浸式专注工具。

在这个项目中我主要负责python程序和串口通信代码的编写,其余内容由另外两位同学解决完成.

在此感谢

## 主要功能

- **独立运行模式**: 硬件设备本身是一个功能完善的高级倒计时器，支持时间设置（精确到时分秒）、倒计时、OLED实时显示和设置掉电保存（EEPROM）。
- **电脑联动模式**: 连接PC后，实现软硬件状态的实时同步。
- **沉浸式锁屏**: 启动专注后，PC会进入一个自定义的、无法轻易关闭的全屏锁屏界面，显示任务、激励名言和巨大的倒计时，有效隔绝数字干扰。
- **任务列表管理**: PC端GUI程序提供任务列表功能，用户可以添加/删除专注任务，任务会自动显示在锁屏界面上。
- **双向通信**: 支持从PC端提前解锁，并同步停止单片机上的倒计时，实现了软硬件闭环控制。
- **AI联动**: 集成了云端大语言模型API，可响应硬件发送的指令，执行天气查询等智能问答任务。
- **历史日志**: 自动记录每一次专注的开始、结束和所有关键事件，方便复盘。(查询报错常用)

## 所需硬件与软件

### 硬件清单 (下位机)

- STC15F2K60S2 开发板
- OLED 显示屏 (0.96寸)
- ADC 五向导航按键 + 独立按键 (K1, K2, K3)
- M24C02 EEPROM 存储芯片
- DS1302 实时时钟芯片
- USB转TTL (CH340) 串口模块

### 软件环境

- **硬件端 (下位机):**

  - Keil C51 v9.54 或更高版本
  - STC-ISP 下载工具

- **PC端 (上位机):**

  - Python 3.8 或更高版本

  - **依赖库**:

    ```
    pip install pyserial sparkai
    ```

## 快速上手

1. **编译与烧录**:

   - 使用 Keil C51 编译我们最终版的 C 代码并生成 `.hex` 文件。
   - 通过 STC-ISP 工具将 `.hex` 文件烧录到 STC15 单片机中。

2. **配置上位机**:

   ​	确保所有文件在同一个文件夹然后直接运行代码即可

3. **具体操作:**

   ​	导航键和其他功能绑定 

   ​	k1直接启动番茄钟,k2改变时间,按下导航键后不在按照这个逻辑#
